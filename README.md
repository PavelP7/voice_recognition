<a name="readme-top"></a>
<h3 align="center">Распознавание голосовых сообщений </h3>

  <p align="center">
    Проект для записи и распознавания голосовых сообщений
    <br />
  </p>
</div>

<!-- TABLE OF CONTENTS -->
## Содержание
1. [О проекте](#О-проекте)
2. [Начало работы](#Начало-работы)
   * [Установка](#Установка)
1. [Как пользоваться](#Как-пользоваться)
   * [Запись голосового сообщения](#Запись-голосового-сообщения)
   * [Распознавание голосового сообщения](#Распознавание-голосового-сообщения)
   * [Консольные сообщения](#Консольные-сообщения)
   
<!-- ABOUT THE PROJECT -->
## О проекте

Проект представляет собой консольное приложение для записи и распознавания голосовых сообщений при помощи открытого API асинхронного распознавания.

Проект предоставляет следующие возможности:
* Выбор записывающего устройства
* Запись голосовых сообщений
* Загрузка голосовых сообщений в бакет Yandex Cloud
* Распознавание голосовых сообщений при помощи API v2 асинхронного распознавания.

<p align="right">(<a href="#readme-top">наверх</a>)</p>


<!-- GETTING STARTED -->
## Начало работы

Перед установкой и запуском проекта Вам необходимо установить **git**.

### Установка

Выполните следующие шаги для корректной установки проекта.
1. Клонируйте репозиторий
```sh
git https://github.com/PavelP7/voice_recognition.git
```
2. Установите требуемую версию **python** из файла *pythonversion.txt*
3. Перейдите в каталог *voice_recognition*, создайте и активируйте виртуальную среду
```sh
cd voice_recognition
python -m venv venv
venv\scripts\activate
```
4. Установите необходимые модули
```sh
pip install -r requirements.txt
cd VoiceRecognition
```
5. Переместите файлы *credentials* и *config* в директорию         
```c:\Users\<имя пользователя>\.aws```
6. Скачайте набор библиотек **ffmpeg** работы со звуком. Скачать можно с сайта [softportal.com](https://www.softportal.com/get-43818-ffmpeg.html)
7. Добавьте директорию *bin* с исполняемыми файлами в переменные окружения

<p align="right">(<a href="#readme-top">наверх</a>)</p>

<!-- USAGE EXAMPLES -->
## Как пользоваться
Запустите приложение выполнением скрипта```recognition.py```
Выберите из предлагаемого списка идентификатор записывающего устройства

### Запись голосового сообщения
Выберите время записи голосового сообщения. По окончанию записи файла в 
```.wav``` формате, происходит конвертация в формат ```.mp3``` и загрузка файла в бакет Yandex Cloud. 
<p align="right">(<a href="#readme-top">наверх</a>)</p>

### Распознавание голосового сообщения
Для распознавания сообщения используется API v2 асинхронного распознавания методом ```post```. Далее с помощью метода ```get``` запрашивается результат. 

<p align="right">(<a href="#readme-top">наверх</a>)</p>

### Консольные сообщения
В процессе работы приложения возможны следующие сообщения:
* <текст голосового сообщения>
* *Не понимаю, повторите* - при отсутствии корректно распознанного сообщения
* *Нет ответа от сервера* - при возврате ошибки от сервера
* *Неверная команда* - при вводе некорректной команды

<p align="right">(<a href="#readme-top">наверх</a>)</p>
